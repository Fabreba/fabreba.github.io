<!DOCTYPE html>
<html>
  <head>
    <title>AR with A-Frame</title>
    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
    <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>
    <script>
      // Registro do componente personalizado
      AFRAME.registerComponent('switch-model', {
        schema: {
          model: {type: 'string', default: 'model/mesa.glb'}
        },
        init: function () {
          this.el.setAttribute('gltf-model', `url(${this.data.model})`);
        },
        update: function () {
          this.el.setAttribute('gltf-model', `url(${this.data.model})`);
        }
      });

      function changeModel(modelName) {
        const modelEntity = document.getElementById('model');
        modelEntity.setAttribute('switch-model', `model: model/${modelName}`);
      }
    </script>
  </head>
  <body style="margin: 0; overflow: hidden;">
    <a-scene embedded arjs="sourceType: webcam; debugUIEnabled: false;">
      <!-- Definindo o marcador personalizado -->
      <a-marker url="assets/pattern/pattern-nike air froce.patt" type="pattern" smooth="true">
        <!-- Carregando o modelo GLTF 2.0 -->
        <a-entity
          id="model"
          switch-model="model: model/mesa.glb"
          scale="0.3 0.3 0.3"
          position="0 0 0">
        </a-entity>
      </a-marker>
      <a-entity camera></a-entity>
    </a-scene>

    <!-- BotÃµes para trocar os modelos -->
    <div style="position: absolute; top: 10px; left: 10px;">
      <button onclick="changeModel('mesa.glb')">Mesa</button>
      <button onclick="changeModel('mesa_larga.glb')">Mesa Larga</button>
    </div>
  </body>
</html>
